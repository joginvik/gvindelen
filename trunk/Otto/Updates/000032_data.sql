SET SQL DIALECT 3;

SET NAMES WIN1251;

SET CLIENTLIB 'fbclient.dll';



INSERT INTO STATUSES (STATUS_ID, STATUS_NAME, OBJECT_SIGN, IS_DEFAULT, STATUS_SIGN, ACTION_SIGN, FLAG_SIGN_LIST, STORE_DATE)
  VALUES (266, 'Задержка 10 недель', 'ORDERITEM', NULL, 'DELAY10WEEK', NULL, ',AVAILABLE,DELAY,', NULL);

INSERT INTO STATUSES (STATUS_ID, STATUS_NAME, OBJECT_SIGN, IS_DEFAULT, STATUS_SIGN, ACTION_SIGN, FLAG_SIGN_LIST, STORE_DATE)
  VALUES (267, 'Задержка 11 недель', 'ORDERITEM', NULL, 'DELAY11WEEK', NULL, ',AVAILABLE,DELAY,', NULL);

INSERT INTO STATUSES (STATUS_ID, STATUS_NAME, OBJECT_SIGN, IS_DEFAULT, STATUS_SIGN, ACTION_SIGN, FLAG_SIGN_LIST, STORE_DATE)
  VALUES (268, 'Задержка 12 недель', 'ORDERITEM', NULL, 'DELAY12WEEK', NULL, ',AVAILABLE,DELAY,', NULL);

INSERT INTO STATUSES (STATUS_ID, STATUS_NAME, OBJECT_SIGN, IS_DEFAULT, STATUS_SIGN, ACTION_SIGN, FLAG_SIGN_LIST, STORE_DATE)
  VALUES (269, 'Задержка 13 недель', 'ORDERITEM', NULL, 'DELAY13WEEK', NULL, ',AVAILABLE,DELAY,', NULL);

INSERT INTO STATUSES (STATUS_ID, STATUS_NAME, OBJECT_SIGN, IS_DEFAULT, STATUS_SIGN, ACTION_SIGN, FLAG_SIGN_LIST, STORE_DATE)
  VALUES (271, 'Задержка 14 недель', 'ORDERITEM', NULL, 'DELAY14WEEK', NULL, ',AVAILABLE,DELAY,', NULL);

INSERT INTO STATUSES (STATUS_ID, STATUS_NAME, OBJECT_SIGN, IS_DEFAULT, STATUS_SIGN, ACTION_SIGN, FLAG_SIGN_LIST, STORE_DATE)
  VALUES (272, 'Задержка 15 недель', 'ORDERITEM', NULL, 'DELAY15WEEK', NULL, ',AVAILABLE,DELAY,', NULL);

INSERT INTO STATUSES (STATUS_ID, STATUS_NAME, OBJECT_SIGN, IS_DEFAULT, STATUS_SIGN, ACTION_SIGN, FLAG_SIGN_LIST, STORE_DATE)
  VALUES (273, 'Задержка 16 недель', 'ORDERITEM', NULL, 'DELAY16WEEK', NULL, ',AVAILABLE,DELAY,', NULL);

INSERT INTO STATUSES (STATUS_ID, STATUS_NAME, OBJECT_SIGN, IS_DEFAULT, STATUS_SIGN, ACTION_SIGN, FLAG_SIGN_LIST, STORE_DATE)
  VALUES (274, 'Задержка 17 недель', 'ORDERITEM', NULL, 'DELAY17WEEK', NULL, ',AVAILABLE,DELAY,', NULL);

INSERT INTO STATUSES (STATUS_ID, STATUS_NAME, OBJECT_SIGN, IS_DEFAULT, STATUS_SIGN, ACTION_SIGN, FLAG_SIGN_LIST, STORE_DATE)
  VALUES (275, 'Задержка 18 недель', 'ORDERITEM', NULL, 'DELAY18WEEK', NULL, ',AVAILABLE,DELAY,', NULL);

INSERT INTO STATUSES (STATUS_ID, STATUS_NAME, OBJECT_SIGN, IS_DEFAULT, STATUS_SIGN, ACTION_SIGN, FLAG_SIGN_LIST, STORE_DATE)
  VALUES (276, 'Задержка 19 недель', 'ORDERITEM', NULL, 'DELAY19WEEK', NULL, ',AVAILABLE,DELAY,', NULL);



INSERT INTO FLAGS (FLAG_SIGN, FLAG_NAME, GROUP_NO)
  VALUES ('BALANCEABLE', 'Можно балансировать', NULL);



INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (201, 'DELETEABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (202, 'DELETEABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (206, 'BALANCEABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (209, 'BALANCEABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (211, 'BALANCEABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (266, 'AVAILABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (266, 'DELAY');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (267, 'AVAILABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (267, 'DELAY');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (268, 'AVAILABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (268, 'DELAY');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (269, 'AVAILABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (269, 'DELAY');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (271, 'AVAILABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (271, 'DELAY');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (272, 'AVAILABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (272, 'DELAY');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (273, 'AVAILABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (273, 'DELAY');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (274, 'AVAILABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (274, 'DELAY');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (275, 'AVAILABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (275, 'DELAY');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (276, 'AVAILABLE');

INSERT INTO FLAGS2STATUSES (STATUS_ID, FLAG_SIGN)
  VALUES (276, 'DELAY');



INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_CODE_TIME', '210', 'DELAY10WEEK');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_CODE_TIME', '211', 'DELAY11WEEK');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_CODE_TIME', '212', 'DELAY12WEEK');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_CODE_TIME', '213', 'DELAY13WEEK');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_CODE_TIME', '214', 'DELAY14WEEK');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_CODE_TIME', '215', 'DELAY15WEEK');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_CODE_TIME', '216', 'DELAY16WEEK');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_CODE_TIME', '217', 'DELAY17WEEK');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_CODE_TIME', '218', 'DELAY18WEEK');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_CODE_TIME', '219', 'DELAY19WEEK');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_MESSAGE_RUS', 'Artikel ausverkauft', 'Артикул распродан');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_MESSAGE_RUS', 'ESA Artikelnummer nicht vorhanden', 'ESA Артикул не существует');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_MESSAGE_RUS', 'ESA Groesse nicht vorhanden', 'ESA Размер не существует');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_MESSAGE_RUS', 'ESA Promotion nicht vorhanden', 'ESA Предложение не существует');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_MESSAGE_RUS', 'Nachlieferung, kommt in 16 Wochen', 'Задержка до 16 недель');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_MESSAGE_RUS', 'Nachlieferung, kommt in 2 Wochen', 'Задержка до 2 недель');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_MESSAGE_RUS', 'Nachlieferung, kommt in 4 Wochen', 'Задержка до 4 недель');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_MESSAGE_RUS', 'Nachlieferung, kommt in 5 Wochen', 'Задержка до 5 недель');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_MESSAGE_RUS', 'Nachlieferung, kommt in 7 Wochen', 'Задержка до 7 недель');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_MESSAGE_RUS', 'lieferbar', 'В наличии');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'DELIVERY_MESSAGE_RUS', 'nicht lieferbar', 'Нет в наличии');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'STORNO_MESSAGE_RUS', 'FEHLER-keine ESA Auftragsposition vorhanden', 'Ошибки нет. Позиция заказа в наличии. (бред какой-то)');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'STORNO_MESSAGE_RUS', 'OK-bereits storniert', 'Уже сторнировано');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'STORNO_MESSAGE_RUS', 'OK-storniert', 'Сторнировано');

INSERT INTO RECODES (OBJECT_SIGN, ATTR_SIGN, ORIGINAL_VALUE, RECODED_VALUE)
  VALUES ('ORDERITEM', 'STORNO_MESSAGE_RUS', 'canceled', 'Анулировано');


update orders o
set o.adress_id = (select a.adress_id from adresses a where a.client_id = o.client_id)
where o.adress_id is null and o.client_id is not null;
